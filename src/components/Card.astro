---
import GithubButton from './GithubButton.astro'
import ExternalButton from './ExternalButton.astro'

export interface Props {
	title: string;
	body: string;
  image: string;
	link: string;
	demo: string;
}

const { link, demo, image, title, body } = Astro.props;
---

<article class='py-4 px-2 w-[300px] md:w-80 rounded-lg hover:bg-gray-800 transition-colors inline-block effect-shine [&:hover>div>a]:block md:[&:hover>div>h3]:text-cyan-400'>
  <div class='grid gap-2 mb-4'>
    <img src={image} class="w-[304px] h-[152px] rounded-lg object-contain mx-auto" alt={`${title} preview.`} />
    <h3 class="text-xl text-cyan-400 md:text-inherit md:text-2xl font-bold">{title}</h3>
    <p class="text-sm font-bold text-gray-400 leading-relaxed transition-colors">{body}</p>
  </div>
  <div class='flex gap-8 justify-center items-center h-[32px] [&>a]:block lg:[&>a]:hidden'>
    <GithubButton href={link} />
    <ExternalButton href={demo} />
  </div>
</article>

<style>
	.effect-shine {
  --shine-opacity: 0;
  position: relative;
  overflow: hidden;
  transform: scale3d(1, 1, 1);
  transition: all 0.2s ease-out;
}

.effect-shine:hover {
  box-shadow: 1px 1px 5px 1px rgba(0, 0, 0, 0.7);
  transform: scale3d(1.03, 1.03, 1);
}

.effect-shine::after {
  content: "";
  background-image: linear-gradient(to right, rgba(255, 255, 255, 0), hsla(0, 0%, 100%, var(--shine-opacity)), rgba(255, 255, 255, 0));
  position: absolute;
  top: -50px;
  bottom: -50px;
  width: 10em;
  overflow: hidden;
  transform: translateX(-100%) rotate(35deg);
}

.effect-shine:hover::after {
  transition: transform 0.2s ease-out;
  transform: translateX(380px) rotate(35deg);
  --shine-opacity: 0.5;
}
</style>
